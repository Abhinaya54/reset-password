<!DOCTYPE html>
<html>
<head>
  <title>Reset Password</title>
</head>
<body>
  <h2>Reset Your Password</h2>
  <input type="password" id="newPassword" placeholder="Enter new password" />
  <button onclick="resetPassword()">Reset Password</button>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.1/firebase-app.js";
    import { getAuth, confirmPasswordReset } from "https://www.gstatic.com/firebasejs/10.6.1/firebase-auth.js";

    // Firebase config
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_PROJECT_ID.appspot.com",
      messagingSenderId: "YOUR_SENDER_ID",
      appId: "YOUR_APP_ID"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // Get oobCode from URL (sent by Firebase in email)
    const urlParams = new URLSearchParams(window.location.search);
    const oobCode = urlParams.get('oobCode');

    window.resetPassword = async () => {
      const newPassword = document.getElementById('newPassword').value;
      if (!newPassword) return alert("Enter a new password");

      try {
        await confirmPasswordReset(auth, oobCode, newPassword);
        alert("Password reset successful! You can now log in.");
      } catch (err) {
        alert(err.message);
      }
    };
  </script>
</body>
</html>
